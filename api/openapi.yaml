openapi: 3.1.0

info:
  version: 1.0.0
  title: "KINTAI"
  description: >-
    "勤怠管理アプリ「KINTAI」"

servers:
  - url: "http://localhost:8003"
    description: "ローカル環境"

tags:
  - name: "admin"
    description: "管理者の操作"
  - name: "employee"
    description: "従業員の操作"

paths:
  /api/v1/admin/admins:
    $ref: "./paths/v1/admin/admins.yml"
  /api/v1/admin/admins/{id}:
    get:
      summary: "管理者の取得"
      tags: ["admin"]
      operationId: getAdmin
      deprecated: false
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Admin"
        "400":
          description: "BadRequest"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BadRequest"
        "401":
          description: "Unauthorized"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Unauthorized"
        "403":
          description: "Forbidden"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Forbidden"
        "404":
          description: "NotFound"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotFound"
        "500":
          description: "Forbidden"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Forbidden"
components:
  schemas:
    BadRequest:
      type: object
      properties:
        error_code:
          type: string
          example: "BadRequest"
        message:
          type: array
          items:
            example: "エラーメッセージ"
    Unauthorized:
      type: object
      properties:
        error_code:
          type: string
          example: "Unauthorized"
        message:
          type: array
          items:
            example: "ログインしてください"
    Forbidden:
      type: object
      properties:
        error_code:
          type: string
          example: "Forbidden"
        message:
          type: array
          items:
            example: "権限がありません"
    NotFound:
      type: object
      properties:
        error_code:
          type: string
          example: "NotFound"
        message:
          type: array
          items:
            example: "対象データが存在しません。"
    InternalServerError:
      type: object
      properties:
        error_code:
          type: string
          example: "InternalServerError"
        message:
          type: array
          items:
            example: "サーバーエラー"
# これからの参考にとりあえず残しておく
# /users:
#   get:
#     description: >
#       Returns all users
#     operationId: findUsers
#     parameters:
#       - name: tags
#         in: query
#         description: tags to filter by
#         required: false
#         style: form
#         schema:
#           type: array
#           items:
#             type: string
#       - name: limit
#         in: query
#         description: maximum number of results to return
#         required: false
#         schema:
#           type: integer
#           format: int32
#     responses:
#       "200":
#         description: user response
#         content:
#           application/json:
#             schema:
#               type: array
#               items:
#                 $ref: "#/components/schemas/User"
#       default:
#         description: unexpected error
#         content:
#           application/json:
#             schema:
#               $ref: "#/components/schemas/Error"
# components:
#   schemas:
#     User:
#       type: "object"
#       required:
#         - "name"
#       properties:
#         id:
#           type: "integer"
#           format: "int64"
#           example: 100
#         name:
#           type: "string"
#           example: "Taro"
#         status:
#           type: "string"
#           description: "user status"
#           enum:
#             - "pending"
#             - "active"
#             - "inactive"
#     Error:
#       type: "object"
#       properties:
#         code:
#           type: "integer"
#           format: "int32"
#         type:
#           type: "string"
#         message:
#           type: "string"
# externalDocs:
#   description: "Find out more about Swagger"
#   url: "http://swagger.io"
